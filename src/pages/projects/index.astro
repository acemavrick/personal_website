---
import Base from "../../layouts/Base.astro";
import ProjectCard from "../../components/ProjectCard.astro";
import { getCollection } from "astro:content";
import { site } from "../../config";

const projects = await getCollection("projects");
---

<Base title="Projects" bgVariant="article">
    <!-- home link with avatar -->
    <a href="/" class="home-link inline-flex items-center gap-3 text-neutral-400 hover:text-emerald-400 transition-all duration-300 mb-12 group">
        <div class="relative">
            <div class="absolute inset-0 rounded-full bg-emerald-500/20 blur-md opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
            <img src={site.pfp} alt={site.name} class="relative w-9 h-9 rounded-full border border-white/20 group-hover:border-emerald-500/50 transition-all duration-300" />
        </div>
        <span class="text-sm font-medium">Home</span>
    </a>

    <header class="mb-12">
        <h1 class="text-3xl md:text-4xl font-bold bg-gradient-to-br from-white to-neutral-300 bg-clip-text text-transparent">
            All Projects
        </h1>
        <p class="text-neutral-400 mt-3">Many of the projects that i've built so far.</p>
    </header>

    <!-- project gallery grid -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        {projects.map((project) => (
            <ProjectCard name={project.id.replace(/\.mdx?$/, "")} />
        ))}
    </div>
</Base>
